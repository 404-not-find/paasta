{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "description": "http://paasta.readthedocs.io/en/latest/yelpsoa_configs.html#kubernetes-clustername-yaml",
    "type": "object",
    "minProperties": 1,
    "additionalProperties": {
        "type": "object",
        "additionalProperties": false,
        "minProperties": 1,
        "properties": {
            "cpus": {
                "type": "number",
                "minimum": 0,
                "exclusiveMinimum": true,
                "default": 1
            },
            "mem": {
                "type": "number",
                "minimum": 0,
                "exclusiveMinimum": true,
                "default": 1024
            },
            "disk": {
                "type": "number",
                "minimum": 0,
                "exclusiveMinimum": true,
                "default": 1024
            },
            "instances": {
                "type": "integer",
                "minimum": 0,
                "exclusiveMinimum": false
            },
            "registrations": {
                "type": "array",
                "items": {
                    "type": "string"
                },
                "uniqueItems": true
            },
            "deploy_group": {
                "type": "string"
            },
            "drain_method": {
                "enum": [ "noop", "hacheck", "http", "test" ],
                "default": "noop"
            },
            "drain_method_params": {
                "type": "object"
            },
            "cmd": {
                "type": "string"
            },
            "args": {
                "type": "array",
                "items": {
                    "type": "string"
                }
            },
            "env": {
                "type": "object",
                "additionalProperties": { "type": "string" }
            },
            "extra_volumes": {
                "type": "array",
                "items": {
                    "type": "object"
                },
                "uniqueItems": true
            },
            "deploy_group": {
                "type": "string"
            },
            "net": {
                "type": "string"
            },
            "monitoring": {
                "type": "object"
            },
            "monitoring_blacklist": {
                "type": "array"
            }
        }
    }
}
